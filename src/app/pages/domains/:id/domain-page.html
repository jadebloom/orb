@let d = domain();

@if (d) {
	<div class="sm:flex flex-row-reverse justify-between items-center gap-2">
		<div class="sm:flex sm:items-center gap-2 grid grid-cols-1">
			<p-button
				label="Manage goals"
				icon="pi pi-calendar"
				size="small"
				fluid
				rounded
				(onClick)="router.navigate(['/domains', d.id, 'goals'])"
			/>

			<p-button
				label="Update domain"
				icon="pi pi-pencil"
				size="small"
				fluid
				rounded
				(onClick)="updateDomain()"
			/>

			<p-button
				label="Delete domain"
				icon="pi pi-trash"
				size="small"
				fluid
				severity="danger"
				rounded
				(onClick)="deleteDomain()"
			/>
		</div>

		<div class="space-y-4 mt-4 sm:mt-0">
			<p class="text-lg">Your domain:</p>

			<div class="flex items-center gap-2">
				<span
					class="block rounded-full size-4 shrink-0"
					[style]="{ 'background-color': d.color }"
				></span>

				<p>{{ d.name }}</p>
			</div>
		</div>
	</div>
} @else {
	<p class="mb-2">No domain was found. Please try again or verify its existence.</p>

	<p-button
		label="Refresh"
		icon="pi pi-refresh"
		size="small"
		rounded
		class="flex justify-end"
		[loading]="isFetchingDomain()"
		[disabled]="isFetchingDomain()"
		(onClick)="fetchDomainById()"
	/>
}
